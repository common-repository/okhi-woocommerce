var OkHiFields=/** @class */function(){function a(){}return a.billingPhoneField="#billing_phone",a.billingLastNameField="#billing_last_name",a.billingFirstNameField="#billing_first_name",a.requiredAddressField="#billing_address_1",a.addressLine2Field="#billing_address_2",a.billingCompany="#billing_company",a.billingPostcodeField="#billing_postcode",a.billingOtherInformationField="#order_comments",a.billingStreetNameField="#billing_okhi_street_name",a.billingPropertyNameField="#billing_okhi_property_name",a.billingPropertyNumberField="#billing_okhi_property_number",a.billingOkHiLatField="#billing_okhi_lat",a.billingOkHiLonField="#billing_okhi_lon",a.billingOkHiPlaceIdField="#billing_okhi_place_id",a.billingOkHiIdField="#billing_okhi_id",a.billingOkHiTokenField="#billing_okhi_token",a.billingOkHiURLField="#billing_okhi_url",a.locationCardContainerElement="#selected-location-card",a.errorElement="#okhi-errors",a.billingOkHiNeighborhoodField="#billing_okhi_neighborhood",a.billingStateField="#billing_okhi_state",a.billingCityField="#billing_city",a}();function autoPrefixPhone(a){return 0===(null===a||void 0===a?void 0:a.indexOf("0"))?wcOkHiJson.countryCallingCode+a.slice(1):a}var okCollectErrorHandler=function(a){var b=jQuery(OkHiFields.errorElement);return a&&"invalid_phone"===a.code&&jQuery("#billing_phone_field").removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-phone"),a&&a.code&&"exit_app"==a.code?void 0:b?a?void// handle errors here e.g fallback to your own way of collecting a location information
b.html(a.message?a.message:"Something went wrong please try again"):void b.html(""):void 0},handleFatalError=function(a){return a&&"invalid_phone"===a.code?void okCollectErrorHandler(a):void jQuery.each([// '#billing_country_field',
// '#billing_address_1_field',
// '#billing_postcode_field',
// '.woocommerce-additional-fields',
"#billing_okhi_location_data_field"//given this is required
],function(a,b){jQuery(b).show()})},resetOkHiFields=function(){for(var a,b=[jQuery(OkHiFields.requiredAddressField),jQuery(OkHiFields.billingPostcodeField),jQuery(OkHiFields.billingOtherInformationField),jQuery(OkHiFields.billingStreetNameField),jQuery(OkHiFields.billingPropertyNameField),jQuery(OkHiFields.billingPropertyNumberField),jQuery(OkHiFields.addressLine2Field),jQuery(OkHiFields.billingCompany),jQuery(OkHiFields.billingOkHiLatField),jQuery(OkHiFields.billingOkHiLonField),jQuery(OkHiFields.billingOkHiPlaceIdField),jQuery(OkHiFields.billingOkHiIdField),jQuery(OkHiFields.billingOkHiURLField),jQuery(OkHiFields.billingOkHiNeighborhoodField),jQuery(OkHiFields.billingStateField),jQuery(OkHiFields.billingCityField)],c=0,d=b;c<d.length;c++)a=d[c],a.val("")},okCollectSuccessHandler=function(a){okCollectErrorHandler(null),resetOkHiFields();var b=jQuery(OkHiFields.billingPostcodeField),c=jQuery(OkHiFields.billingOtherInformationField),d=jQuery(OkHiFields.billingStreetNameField),e=jQuery(OkHiFields.billingPropertyNameField),f=jQuery(OkHiFields.billingPropertyNumberField),g=jQuery(OkHiFields.billingOkHiLatField),h=jQuery(OkHiFields.billingOkHiLonField),i=jQuery(OkHiFields.billingOkHiPlaceIdField),j=jQuery(OkHiFields.billingOkHiIdField),k=jQuery(OkHiFields.billingOkHiURLField),l=jQuery(OkHiFields.requiredAddressField),m=jQuery(OkHiFields.billingOkHiNeighborhoodField),n=jQuery(OkHiFields.addressLine2Field),o=jQuery(OkHiFields.billingCompany),p=jQuery(OkHiFields.billingStateField),q=jQuery(OkHiFields.billingCityField);// handle your success here with the data you get back
if(a){var r=a.street_name,s=a.property_name,t=a.property_number,u=a.geo_point,v=a.directions,w=a.id,x=a.url,y=a.other_information,z=a.plus_code,A=a.place_id,B=a.city,C=a.state,D=a.neighborhood,E=a.unit,F=a.business_name,G=[];if(s&&G.push(s),t&&G.push(t),v&&G.push(v),r){var H=r.replace(/(^\w|\s\w)/g,function(a){return a.toUpperCase()});G.push(H)}"undefined"!=typeof l&&l.val(G.join(", ").trim()),"undefined"!=typeof c&&y&&c.val(y),"undefined"!=typeof b&&z&&b.val(z),"undefined"!=typeof d&&r&&d.val(r.replace(/(^\w|\s\w)/g,function(a){return a.toUpperCase()})),"undefined"!=typeof e&&s&&e.val(s),"undefined"!=typeof f&&t&&f.val(t),"undefined"!=typeof g&&u&&u.lat&&g.val(u.lat),"undefined"!=typeof h&&u&&u.lon&&h.val(u.lon),"undefined"!=typeof i&&i.val(A||""),"undefined"!=typeof j&&j.val(w||""),"undefined"!=typeof k&&k.val(x||""),"undefined"!=typeof q&&B&&q.val(B.replace(/(^\w|\s\w)/g,function(a){return a.toUpperCase()})),"undefined"!=typeof p&&C&&p.val(C.replace(/(^\w|\s\w)/g,function(a){return a.toUpperCase()})),"undefined"!=typeof n&&E&&n.val(E),"undefined"!=typeof o&&F&&o.val(F.replace(/(^\w|\s\w)/g,function(a){return a.toUpperCase()})),"undefined"!=typeof m&&D&&m.val(D.replace(/(^\w|\s\w)/g,function(a){return a.toUpperCase()})),jQuery(document.body).trigger("update_checkout")}};function okhi_init(){var a=jQuery(OkHiFields.billingFirstNameField),b=jQuery(OkHiFields.billingLastNameField),c=jQuery(OkHiFields.billingPhoneField),d=document.querySelector(OkHiFields.locationCardContainerElement),e=new okcollect({target:d,props:{API_KEY:wcOkHiJson.key,userFirstName:a.val(),userLastName:b.val(),userPhoneNumber:autoPrefixPhone(c.val()),onAddressSelected:okCollectSuccessHandler,onError:okCollectErrorHandler,streetviewEnabled:wcOkHiJson.config.streetviewEnabled,toTheDoorEnabled:wcOkHiJson.config.toTheDoorEnabled,isDarkMode:wcOkHiJson.config.isDarkMode,styleSettings:{primaryColor:wcOkHiJson.styles.color,highlightColor:wcOkHiJson.styles.highlightColor},appSettings:{name:wcOkHiJson.app.name,version:wcOkHiJson.app.version}}});a.on("input",function(a){e.$set({userFirstName:a.target.value})}),b.on("input",function(a){e.$set({userLastName:a.target.value})}),c.on("input",function(a){e.$set({userPhoneNumber:autoPrefixPhone(a.target.value)}),okCollectErrorHandler(null),resetOkHiFields()});/**
     * reset fields set by OkHi
     */try{/**
         * show location card for repeat users
         * for a zero click user experience
         */ // hide default fields
jQuery("#okhi-loader").hide(),jQuery("#selected-location-card").show(),jQuery.each(["#billing_okhi_street_name_field"],function(a,b){jQuery(b).hide()})}catch(a){handleFatalError(a),console.error("Zero click card load erroring out:",a)}}window.okhi_init=okhi_init;